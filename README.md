# OAuth 2.0

## Fundamentals

### Introduction

OAuth = Open + Authorization (RFC 6749)

- 어플리케이션이 사용자를 대신해서 사용자의 자원에 대한 제한된 액세스를 얻기 위한 승인 상호작용을 하는 것
- 사용자의 자원(보호된 자원)에 대한 접근에 대한 권한을 획득 하는 것
- Delegated authorization framework
  - 위임 인가 프레임 워크
  - 어플리케이션이 사용자의 데이터에 접근하도록 권한을 부여한다 

OAuth 2.0 이전 방식의 문제점

1. 아이디와 패스워드가 노출되어 보안에 취약하다
   - 물론 SSL을 통해 암호화가 가능하다
2. 모든 서비스에 대한 제한없는 접근이 가능
3. 클라이언트 어플리케이션을 신뢰할 수 없음

OAuth 2.0의 장점

1. 아이디와 패스워드로 로그인 할 필요가 없다
2. 서비스의 범위를 제한할 수 있다
3. 클라이언트 어플리케이션에 대한 신뢰여부를 판단할 필요가 없다

### Roles

- Resource Owner
  - 보호된 자원에 대한 접근 권한을 부여할 수 있는 주체
  - 즉, 자원의 주인이자 사용자
  - 사용자를 대신해서 작동하는 모든 클라이언트는, 우선적으로 `사용자의 허가`를 받아야한다
- Resource Server
  - 클라이언트에서 접근하는 사용자의 자원이 포함된 서버
  - 즉, 자원을 가진 서버
  - 액세스 토큰을 수락 및 검증할 수 있어야 한다
  - 권한 체계에 따라 요청을 승인할 수 있어야 한다
- Authorization Server
  - 클라이언트의 권한 부여 요청을 승인하거나 거부하는 서버
  - 사용자가 클라이언트에게 권한 부여 요청 승인은, 사용자가 인가서버에 클라이언트에게 권한 부여를 해야된다고 알려야한다
  - 사용자가 클라이언트에게 권한 부여 요청을 승인한 후, `access token`을 클라이언트에게 발급하는 역할
- Client
  - 사용자를 대신하여 권한을 부여받아 사용자의 리소스에 접근하는 어플리케이션
  - 사용자를 권한 부여 서버로 안내하거나, 상호작용 없이 권한 부여 서버로부터 직접 권한을 얻을 수 있따.
  